

<div style="padding:8px">
  <div style="margin-bottom: 16px;">
    <button nz-button class="tool-btn-green" (click)="rowSelected(null)" >
      新增
    </button>
    <button nz-button [nzType]="'primary'" (click)="getWorkSpc()">
      刷新
    </button>
  </div>

  <nz-table #deviceServicesData [nzData]="workSpc" [nzSize]="'middle'">
    <thead>
    <tr>
      <th>名称</th>
      <th>id</th>
      <th>类型</th>
      <th>操作</th>
      <th>发布</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let data of workSpc">
      <td>
        {{data.name}}
      </td>
      <td>{{data.key}}</td>
      <td>{{data.class}}</td>
      <td>
        <a (click)="rowSelected(data.key)">编辑</a>
        <nz-divider nzType="vertical"></nz-divider>
        <a (click)="delete(data.key)" style="color:#F22;">删除</a>
      </td>
      <td>
        <a (mouseenter)="preview(data.key)" (mouseleave)="preview(null)">预览</a>
        <nz-divider nzType="vertical"></nz-divider>
        <nz-switch [(ngModel)]="data.released" (ngModelChange)="release(data.key)" [nzLoading]="loading" ></nz-switch>
      </td>
    </tr>
    </tbody>
  </nz-table>
</div>

<div id="diagram" ></div>
