

<div style="padding:8px">
  <div style="margin-bottom: 16px;">
    <label style="display: inline-block;margin-right: 8px;">
      <input type="text" nz-input placeholder="输入关键字搜索" [(ngModel)]="searchValue" (ngModelChange)="search()">
    </label>
    <button nz-button  (click)="getWorkSpc()">
      刷新
    </button>
    <button nz-button [nzType]="'primary'"  (click)="rowSelected(null)" >
      新增
    </button>
  </div>

  <nz-table #deviceServicesData [nzData]="workSpc" [nzLoading]="loading" [nzPageSize]="pageSize" [nzPageIndex]="currentIndex"
            [nzPageSizeOptions]="sizeOption" nzShowSizeChanger>
    <thead>
    <tr>
      <th nzWidth="100px">#</th>
      <th>名称</th>
      <th>编号</th>
      <th>场景</th>
      <th>备注</th>
      <th>操作</th>
      <th>发布</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let data of workSpc">
      <td>
        {{workSpc.indexOf(data)+1}}
      </td>
      <td>
        <a (click)="rowSelected(data.key)">{{data.name}}</a>
      </td>
      <td>{{data.code}}</td>
      <td>{{data.sence}}</td>
      <td>{{data.note}}</td>
      <td>
        <a (click)="rowSelected(data.key)">
          <i nz-icon nzType="edit" nzTheme="outline"></i>
          编辑
        </a>
        <nz-divider nzType="vertical"></nz-divider>
        <a  style="color:#F22;" nz-popconfirm nzTitle="确认删除布局？" (nzOnConfirm)="delete(data.key)">
          <i nz-icon nzType="delete" nzTheme="outline"></i>
          删除
        </a>
      </td>
      <td>
        <a (mouseenter)="preview(data.key)" (mouseleave)="preview(null)">
          <i nz-icon nzType="eye" nzTheme="outline"></i>
            预览
        </a>
        <nz-divider nzType="vertical"></nz-divider>
        <nz-switch [(ngModel)]="data.released" (ngModelChange)="release(data.key)" ></nz-switch>
      </td>
    </tr>
    </tbody>
  </nz-table>
</div>

<div id="diagram" ></div>
